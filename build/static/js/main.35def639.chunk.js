(this["webpackJsonpinsta-clone"]=this["webpackJsonpinsta-clone"]||[]).push([[0],{54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},65:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(15),o=n.n(s),r=(n(54),n(10)),i=(n(55),n(56),n(92)),l=n(26);n(40),n(59);var u=l.a.default.initializeApp({apiKey:"AIzaSyBvWF_Nom75oVsgXFYPc3PzRB5r7xn4-G4",authDomain:"instagram-clone-fb31e.firebaseapp.com",projectId:"instagram-clone-fb31e",storageBucket:"instagram-clone-fb31e.appspot.com",messagingSenderId:"980145745778",appId:"1:980145745778:web:d828b6d58436823a02b7eb",measurementId:"G-3L1YX5YESW"}).firestore(),d=l.a.auth(),p=l.a.storage(),j=n(4);var m=function(e){var t=e.postId,n=e.imageUrl,c=e.user,s=e.username,o=e.caption,l=Object(a.useState)([]),d=Object(r.a)(l,2),p=d[0],m=d[1],b=Object(a.useState)(""),h=Object(r.a)(b,2),g=h[0],O=h[1];return Object(a.useEffect)((function(){var e;return t&&(e=u.collection("instapost").doc(t).collection("comments").onSnapshot((function(e){m(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[t]),Object(j.jsxs)("div",{className:"post",children:[Object(j.jsxs)("div",{className:"post_header",children:[Object(j.jsx)(i.a,{className:"post_avatar",alt:"",src:""}),Object(j.jsx)("h3",{children:s})]}),Object(j.jsx)("img",{className:"post_image",alt:"",src:n}),Object(j.jsxs)("h4",{className:"post_text",children:[Object(j.jsx)("strong",{children:s})," ",o]}),Object(j.jsx)("div",{className:"coment_display",children:p.map((function(e){return Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:e.username}),e.text]})}))}),c&&Object(j.jsxs)("form",{className:"post_commentBox",children:[Object(j.jsx)("input",{className:"post_input",type:"text",placeholder:"Add a comment...",value:g,onChange:function(e){return O(e.target.value)}}),Object(j.jsx)("button",{disabled:!g,className:"post_button",type:"submit",onClick:function(e){e.preventDefault(),u.collection("instapost").doc(t).collection("comments").add({text:g,username:c.displayName}),O("")},children:"post"})]})]})},b=n(89),h=n(90),g=n(91);n(65);n(40);var O=function(e){var t=e.username,n=Object(a.useState)(""),c=Object(r.a)(n,2),s=c[0],o=c[1],i=Object(a.useState)(null),d=Object(r.a)(i,2),m=d[0],b=d[1],h=Object(a.useState)(0),O=Object(r.a)(h,2),f=O[0],x=O[1];return Object(j.jsxs)("div",{className:"image_upload",children:[Object(j.jsx)("progress",{className:"progress_bar",value:f,max:"100"}),Object(j.jsx)("input",{type:"text",placeholder:"Enter a captaion....",value:s,onChange:function(e){o(e.target.value)}}),Object(j.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&b(e.target.files[0])}}),Object(j.jsx)(g.a,{onClick:function(){p.ref("images/".concat(m.name)).put(m).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);x(t)}),(function(e){console.log(e),alert(e.message)}),(function(){p.ref("images").child(m.name).getDownloadURL().then((function(e){u.collection("instapost").add({timestamp:l.a.firestore.FieldValue.serverTimestamp(),caption:s,imageUrl:e,username:t}),x(0),o(""),b(null)}))}))},children:"UPLOAD"})]})},f=n(45);function x(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var v=Object(b.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var N=function(){var e=v(),t=c.a.useState(x),n=Object(r.a)(t,1)[0],s=Object(a.useState)([]),o=Object(r.a)(s,2),i=o[0],l=o[1],p=Object(a.useState)(!1),b=Object(r.a)(p,2),N=b[0],y=b[1],S=Object(a.useState)(!1),w=Object(r.a)(S,2),_=w[0],C=w[1],I=Object(a.useState)(""),k=Object(r.a)(I,2),P=k[0],U=k[1],q=Object(a.useState)(""),A=Object(r.a)(q,2),B=A[0],E=A[1],D=Object(a.useState)(""),G=Object(r.a)(D,2),T=G[0],L=G[1],R=Object(a.useState)(null),F=Object(r.a)(R,2),W=F[0],z=F[1];return Object(a.useEffect)((function(){var e=d.onAuthStateChanged((function(e){z(e||null)}));return function(){e()}}),[W,P]),Object(a.useEffect)((function(){u.collection("instapost").orderBy("timestamp","desc").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(h.a,{open:N,onClose:function(){return y(!1)},children:Object(j.jsx)("div",{style:n,className:e.paper,children:Object(j.jsxs)("form",{action:"/examples/actions/confirmation.php",method:"post",children:[Object(j.jsxs)("center",{children:[Object(j.jsx)("img",{src:"https://png.pngitem.com/pimgs/s/104-1044084_insta-logo-hd-png-download.png",alt:"",style:{width:50,height:40,marginBottom:8}}),Object(j.jsxs)("h3",{style:{fontStyle:"italic"},children:["New to instagram ",Object(j.jsx)("p",{children:"Signup here"})]})]}),Object(j.jsx)("div",{class:"form-group",children:Object(j.jsx)("input",{type:"text",class:"form-control",name:"username",placeholder:"Username",required:"required",value:P,onChange:function(e){return U(e.target.value)}})}),Object(j.jsx)("div",{class:"form-group",children:Object(j.jsx)("input",{type:"text",class:"form-control",name:"email",placeholder:"email",required:"required",value:B,onChange:function(e){return E(e.target.value)}})}),Object(j.jsx)("div",{class:"form-group",children:Object(j.jsx)("input",{type:"password",class:"form-control",name:"password",placeholder:"Password",required:"required",value:T,onChange:function(e){return L(e.target.value)}})}),Object(j.jsx)("div",{class:"form-group",children:Object(j.jsx)("button",{type:"submit",class:"btn btn-primary btn-lg btn-block login-btn",onClick:function(e){e.preventDefault(),d.createUserWithEmailAndPassword(B,T).then((function(e){return e.user.updateProfile({displayName:P})})).catch((function(e){return alert(e.message)})),y(!1)},children:"Signup"})})]})})}),Object(j.jsx)(h.a,{open:_,onClose:function(){return C(!1)},children:Object(j.jsx)("div",{style:n,className:e.paper,children:Object(j.jsxs)("form",{action:"/examples/actions/confirmation.php",method:"post",children:[Object(j.jsxs)("center",{children:[Object(j.jsx)("img",{src:"https://png.pngitem.com/pimgs/s/104-1044084_insta-logo-hd-png-download.png",alt:"",style:{width:50,height:40,marginBottom:8}}),Object(j.jsxs)("h3",{style:{fontStyle:"italic"},children:[" ",Object(j.jsx)("p",{children:"SIGNIN HERE"})]})]}),Object(j.jsx)("div",{class:"form-group",children:Object(j.jsx)("input",{type:"text",class:"form-control",name:"email",placeholder:"email",required:"required",value:B,onChange:function(e){return E(e.target.value)}})}),Object(j.jsx)("div",{class:"form-group",children:Object(j.jsx)("input",{type:"password",class:"form-control",name:"password",placeholder:"Password",required:"required",value:T,onChange:function(e){return L(e.target.value)}})}),Object(j.jsx)("div",{class:"form-group",children:Object(j.jsx)("button",{type:"submit",class:"btn btn-primary btn-lg btn-block login-btn",onClick:function(e){e.preventDefault(),d.signInWithEmailAndPassword(B,T).catch((function(e){return alert(e.message)})),C(!1)},children:"SignIN"})})]})})}),Object(j.jsxs)("div",{className:"app_header",children:[Object(j.jsx)("img",{src:"https://png.pngitem.com/pimgs/s/104-1044084_insta-logo-hd-png-download.png",alt:"",style:{width:40,height:50,borderRadius:30,marginBottom:3,objectFit:"contain"}}),Object(j.jsx)("h1",{className:"title",children:"Instagram"}),W?Object(j.jsx)(g.a,{onClick:function(){return d.signOut()},children:"SIGN OUT"}):Object(j.jsxs)("div",{className:"sign_container",children:[Object(j.jsx)(g.a,{onClick:function(e){C(!0),e.preventDefault()},children:"SIGN IN"}),Object(j.jsx)(g.a,{onClick:function(e){y(!0),e.preventDefault()},children:"SIGN UP"})]})]}),(null===W||void 0===W?void 0:W.displayName)?Object(j.jsx)(O,{username:W.displayName}):Object(j.jsx)("h3",{className:"text_upload",children:"SIGNIN TO UPLOAD PHOTO"}),Object(j.jsxs)("div",{className:"app_post",children:[Object(j.jsx)("div",{className:"app_postLeft",children:i.map((function(e){var t=e.id,n=e.post;return Object(j.jsx)(m,{postId:t,user:W,username:n.username,caption:n.caption,imageUrl:n.imageUrl},t)}))}),Object(j.jsx)("div",{className:"app_posRight",children:Object(j.jsx)(f.a,{url:"https://www.instagram.com/_singh_hrithik_/",clientAccessToken:"123|456",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]})]})};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.35def639.chunk.js.map